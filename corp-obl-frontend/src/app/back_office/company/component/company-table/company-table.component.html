<div class="row">
  <!-- column -->
  <div class="col-lg-12">
    <div class="card">
      <div class="card-body">
        <h5 class="card-subtitle">The table of Companies</h5>
        <form>
          <div class="row">
            <div class="col-md-9">
              <input type='text' class="form-control" placeholder='Type to filter the name column...'
                     (keyup)='updateFilter($event)'/>
            </div>
            <div class="col-md-3 text-right">
              <button class="btn btn-info btn-block" type="button" (click)="createNewCompany()">Create new Company</button>
            </div>
          </div>
        </form>
        <hr>
        <ngx-datatable style="height: 439px;"
                       #table class='material expandable'
                       [columns]="columns"
                       [columnMode]="'force'"
                       [headerHeight]="50"
                       [footerHeight]="50"
                       [rowHeight]="55"
                       [scrollbarV]="true"
                       [limit]="10" [rows]='rows'>

          <!-- Row Detail Template -->
          <ngx-datatable-row-detail [rowHeight]="50" #myDetailRow (toggle)="onDetailToggle($event)">
            <ng-template let-row="row" let-expanded="expanded" ngx-datatable-row-detail-template>
              <div style="padding-left:60px; font-size:14px">
                <button class="btn btn-info waves-effect waves-light" type="button" (click)="editCompany(row)">Edit
                </button>
                <button class="btn btn-warning waves-effect waves-light" type="button"
                        (click)="deleteCompanyAlert(row)">Remove
                </button>
              </div>
            </ng-template>
          </ngx-datatable-row-detail>

          <!-- Column Templates -->

          <ngx-datatable-column
            [width]="50"
            [resizeable]="false"
            [sortable]="false"
            [draggable]="false"
            [canAutoResize]="false">
            <ng-template let-row="row" let-expanded="expanded" ngx-datatable-cell-template>
              <a
                [class.datatable-icon-right]="!expanded"
                [class.datatable-icon-down]="expanded"
                title="Expand/Collapse Row"
                (click)="toggleExpandRow(row)"
                class="desktop-hidden">
              </a>
            </ng-template>
          </ngx-datatable-column>

          <ngx-datatable-column name="Description" [flexGrow]="3" [minWidth]="150">
            <ng-template let-row="row" ngx-datatable-cell-template>
              <p>{{row.description}}</p>
            </ng-template>
          </ngx-datatable-column>

          <ngx-datatable-column name="Created By" [flexGrow]="1">
            <ng-template let-row="row" ngx-datatable-cell-template>
              <p>{{row.createdBy}}</p>
            </ng-template>
          </ngx-datatable-column>

          <ngx-datatable-column name="Modified By" [flexGrow]="1">
            <ng-template let-row="row" ngx-datatable-cell-template>
              <p>{{row.modifiedBy}}</p>
            </ng-template>
          </ngx-datatable-column>

          <ngx-datatable-column name="Options" [sortable]="false" [flexGrow]="1">
            <ng-template let-row="row" ngx-datatable-cell-template>
              <button class="btn btn-info waves-effect waves-light" type="button" (click)="editCompany(row)">Edit
              </button>
              <button class="btn btn-warning waves-effect waves-light" type="button" (click)="deleteCompanyAlert(row)">
                Remove
              </button>
            </ng-template>
          </ngx-datatable-column>

          <!-- End Column Templates -->
        </ngx-datatable>

        <swal
          #deleteCompanySwal
          title="Delete {{ rowSelected?.description }}?"
          text="This cannot be undone"
          type="question"
          [showCancelButton]="true"
          [focusCancel]="true"
          (confirm)="deleteCompanyCofirm(rowSelected.id)">
        </swal>

      </div>
    </div>
  </div>
</div>
