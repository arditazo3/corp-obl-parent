<div class="row">
  <!-- column -->
  <div class="col-lg-12">
    <div class="card">
      <div class="card-body">
        <h5 class="card-subtitle">{{ 'BACK_OFFICE.TOPIC.LIST_TOPICS' | translate }}</h5>
        <div class="row">
          <div class="col-md-9 no-padding-right">
            <input #descriptionTopic type='text' class="form-control"
                   placeholder="{{ 'BACK_OFFICE.TOPIC.TYPE_FILTER_ROWS' | translate }}" (keyup)='updateFilter($event)'/>
          </div>
          <div class="col-md-3 no-padding-left text-right">
            <button class="btn-inline btn-info btn-block" type="button" (click)="createNewTopic()">{{ 'BACK_OFFICE.TOPIC.CREATE_NEW_TOPIC' | translate }}
            </button>
          </div>
        </div>
        <hr>
        <ngx-datatable #myTable
                       class='material expandable'
                       [columnMode]="'force'"
                       [headerHeight]="50"
                       [footerHeight]="50"
                       [rowHeight]="55"
                       [rows]='rows'
                       [messages]="{emptyMessage: ('GENERAL.NODATA' | translate), totalMessage: ('GENERAL.TOTAL' | translate), selectedMessage: false}"
                       [limit]="10"
                       [sorts]="[{prop: 'description', dir: 'asc'}]">

          <!-- Column Templates -->

          <ngx-datatable-column
                  [width]="80"
                  [resizeable]="false"
                  [sortable]="false"
                  [draggable]="false"
                  [canAutoResize]="false">
            <ng-template let-row="row" let-expanded="expanded" ngx-datatable-cell-template>
              <div style="font-size:9px" class="desktop-hidden">
                <button class="btn btn-warning waves-effect waves-light btn-sm" type="button"
                        (click)="editTopic(row)">
                  <i class="fas fa-pencil-alt fa-xs"></i>
                </button>
                <button class="btn btn-danger waves-effect waves-light btn-sm" type="button"
                        (click)="deleteTopicAlert(row)">
                  <i class="far fa-trash-alt fa-xs"></i>
                </button>
              </div>
            </ng-template>
          </ngx-datatable-column>

          <ngx-datatable-column name="{{ 'BACK_OFFICE.TOPIC.OPTIONS' | translate }}"
                                [maxWidth]="200"
                                [sortable]="false" [flexGrow]="1">

            <ng-template let-column="column" ngx-datatable-header-template>
              <span class="mobile-hidden">{{column.name}}</span>
            </ng-template>

            <ng-template let-row="row" ngx-datatable-cell-template>
              <span class="mobile-hidden">
              <button class="btn btn-warning
              waves-effect waves-light" type="button"
                      (click)="editTopic(row)">{{ 'GENERAL.EDIT' | translate }}</button>
              </span>

              <span class="mobile-hidden">
              <button class="btn btn-danger
              waves-effect waves-light"
                      type="button" (click)="deleteTopicAlert(row)">{{ 'GENERAL.REMOVE' | translate }}</button>
              </span>
            </ng-template>
          </ngx-datatable-column>

          <ngx-datatable-column name="Description" [flexGrow]="3" [minWidth]="150">
            <ng-template let-row="row" ngx-datatable-cell-template>
              {{row.description}}
            </ng-template>
          </ngx-datatable-column>

          <!-- End Column Templates -->
        </ngx-datatable>

        <swal
                #deleteTopicSwal
                title=""
                text="{{ 'GENERAL.CANNOT_BE_UNDONE' | translate }}"
                type="question"
                [showCancelButton]="true"
                [focusCancel]="true"
                (confirm)="deleteTopicCofirm(rowSelected.id)">
        </swal>

      </div>
    </div>
  </div>
</div>
